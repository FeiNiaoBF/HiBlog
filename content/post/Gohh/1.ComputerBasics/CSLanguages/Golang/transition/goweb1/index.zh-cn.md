---
title: "Go Webçš„å­¦ä¹ 1"
date: 2024-06-11T22:45:30+08:00
draft: false
taps: ['web']
categories: ['Golang', 'Web']
author: ["Yeelight"]
showtoc: true
weight:
math: false
readingTime: true
---

> å¦‚ä½•é€šè¿‡ Go æ¥ç¼–å†™ Web
>
## Web

### HTTP æ˜¯ä»€ä¹ˆ

<!-- TODO LINK -->
-> [http æ˜¯ä»€ä¹ˆ]({{< ref "post/Gohh/5.Networking/http/index.zh-cn.md">}})

Web æ˜¯ä»€ä¹ˆï¼Œæœ‰äº›äººè®¤ä¸ºæ˜¯ä¸€ä¸ªç½‘é¡µï¼Œæœ‰äº›äººè®¤ä¸ºæ˜¯ World Wide Webï¼ˆä¸‡ç»´ç½‘ï¼‰ç³»ç»Ÿï¼Œæœ‰äº›äººè®¤ä¸ºæ˜¯ç½‘è·¯æ—¶ä»£çš„ä»£æŒ‡ã€‚éƒ½æ²¡é”™ï¼Œä½†ä¸ºäº†ä¸åœ¨ä¸‹é¢çš„æ–‡å­—ä¸­æ¨¡ç³Šè¿™ä¸ªè¯ï¼Œå­¤è‡ªè®¤ä¸º Web æ˜¯ä¸€ä¸ªç®¡ç†èµ„æºçš„**æœåŠ¡ç«¯**ï¼Œè€Œ Go æ‰€åšçš„å°±æ˜¯æ­å»ºè¿™ä¸ªæœåŠ¡ç«¯ã€‚

ä¸€ä¸ª Web æœåŠ¡å™¨ï¼Œå®ƒç›‘å¬æ¥è‡ªå®¢æœç«¯çš„è¯·æ±‚ï¼Œå¹¶é€šè¿‡ **HTTP åè®®**å°†è‡ªå·±ä¸å®¢æˆ·ç«¯é€šä¿¡ã€‚è¿™ä¸ªå®¢æˆ·ç«¯é€šå¸¸æŒ‡çš„æ˜¯ *Web Browser*ã€‚

### Web æœåŠ¡å™¨

Web æœåŠ¡å™¨çš„å·¥ä½œæµç¨‹ä¸ºï¼š

1. ç›‘å¬æ¥è‡ªå®¢æˆ·ç«¯é€šè¿‡ **TCP/IP åè®®**å»ºç«‹åˆ°æœåŠ¡å™¨çš„ TCP è¿æ¥è¯·æ±‚
2. **å¤„ç†å¹¶è§£æ**è¯·æ±‚çš„å†…å®¹ï¼Œç¡®å®šå®¢æˆ·ç«¯è¯·æ±‚çš„æ˜¯å“ªä¸ªèµ„æº
3. æœåŠ¡ç«¯æ ¹æ®è¯·æ±‚å¤„ç†çš„ç»“æœç”Ÿæˆ **HTTP å“åº”**
4. æœåŠ¡ç«¯å°†å“åº”å’Œï¼ˆé™æ€/åŠ¨æ€ï¼‰èµ„æºé€šè¿‡äº’è”ç½‘**é€å›**å®¢æˆ·ç«¯
5. **æŒä¹…è¿æ¥/éæŒä¹…è¿æ¥**

### RESTful æ¶æ„

è¡¨ç°å±‚çŠ¶æ€è½¬æ¢ï¼ˆ**Representational State Transfer**ï¼‰æ˜¯æ ¹åŸºäº**è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ˆHTTPï¼‰** ä¹‹ä¸Šè€Œç¡®å®šçš„ä¸€ç»„çº¦æŸå’Œå±æ€§ï¼Œæ˜¯ä¸€ç§è®¾è®¡æä¾›ä¸‡ç»´ç½‘ç»œæœåŠ¡çš„**è½¯ä»¶æ„å»ºé£æ ¼**ã€‚ç¬¦åˆæˆ–å…¼å®¹äºè¿™ç§æ¶æ„é£æ ¼ï¼ˆç®€ç§°ä¸º REST æˆ– RESTfulï¼‰çš„ç½‘ç»œæœåŠ¡ï¼Œå…è®¸å®¢æˆ·ç«¯å‘å‡ºä»¥**ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦**è®¿é—®å’Œæ“ä½œç½‘ç»œèµ„æºçš„è¯·æ±‚ï¼Œè€Œä¸é¢„å…ˆå®šä¹‰å¥½çš„æ— çŠ¶æ€æ“ä½œé›†ä¸€è‡´åŒ–ã€‚
![URL&URI&URN](https://s2.loli.net/2024/05/26/IO7laRYz1WBTG94.png)

- æ¯ä¸€ä¸ª **URI** ä»£è¡¨ä¸€ç§èµ„æº
- å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ï¼Œä¼ é€’è¿™ç§èµ„æºçš„æŸç§è¡¨ç°å±‚
- å®¢æˆ·ç«¯é€šè¿‡å››ä¸ª HTTP æ–¹æ³•ï¼Œå¯¹æœåŠ¡å™¨ç«¯èµ„æºè¿›è¡Œæ“ä½œï¼Œå®ç°"è¡¨ç°å±‚çŠ¶æ€è½¬åŒ–"

## net/http package

`net/http` æ˜¯ Go å®˜æ–¹çš„æ ‡å‡†åŒ…

ğŸš§ğŸš§ğŸš§

æˆ‘å¯¹ net/http çš„åŸç†è§£æ-> [[http package]]

```go
func SayHello(w http.ResponseWriter, r *http.Request) {
    _, err := fmt.Fprintln(w, "Hello Go Web")
    if err != nil {
       return
    }
}

func main() {
    http.HandleFunc("/hello", SayHello)
    http.ListenAndServe(":9999", nil)
}
```

Go ä¸­çš„ http å¾ˆä½“è´´çš„å°†ä¸€äº›è¿‡ç¨‹æŠ½è±¡äº†ï¼Œå…¶ä¸­å°±åªæœ‰ `ListenAndServe` æ¥ç›‘å¬å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œ`HandleFunc`  æ¥æ³¨å†Œä¸€ä¸ªå¤„ç†å™¨å’Œå¯¹åº”çš„ pattem å»ºç«‹ route ï¼Œ`SayHello` æ˜¯å…·ä½“çš„ Handler å‡½æ•°ã€‚

Web å·¥ä½œæ–¹å¼çš„å‡ ä¸ªæ¦‚å¿µ

- Requestï¼šç”¨æˆ·è¯·æ±‚çš„ä¿¡æ¯ï¼Œç”¨æ¥è§£æç”¨æˆ·çš„è¯·æ±‚ä¿¡æ¯ï¼ŒåŒ…æ‹¬ postã€getã€cookieã€url ç­‰ä¿¡æ¯
- Responseï¼šæœåŠ¡å™¨éœ€è¦åé¦ˆç»™å®¢æˆ·ç«¯çš„ä¿¡æ¯
- Connï¼šç”¨æˆ·çš„æ¯æ¬¡è¯·æ±‚é“¾æ¥
- Handlerï¼šå¤„ç†è¯·æ±‚å’Œç”Ÿæˆè¿”å›ä¿¡æ¯çš„å¤„ç†é€»è¾‘

## å¤–éƒ¨é“¾æ¥

[ç†è§£RESTfulæ¶æ„](https://www.ruanyifeng.com/blog/2011/09/restful.html)
